<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Board</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="shortcut icon" href="#">

    <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
</head>
<body>
    <div>
        <form id="board_box">
            <p name="views" th:text="'조회 수: ' + ${board.views}" />
            <input type="hidden" id="id" th:value="${board.id}">
            <input type="text" name="title" id="title" th:value="${board.title}"><br>
            <input type="text" name="content" id="content" th:value="${board.content}">
        </form>

        <button id="updateBtn">수정</button>
        <button id="delBtn">삭제</button>
    </div>

    <script>
        $(document).ready(function() {
            // 수정
            $("#updateBtn").click(function() {
                const boardEntity = {
                    title: $("#title").val(),
                    content: $("#content").val()
                }
                $.ajax({
                    url: "/boards/update/" + parseInt($("#id").val()),
                    method: 'POST',
                    data: JSON.stringify(boardEntity),
                    contentType: 'application/json',
                    success: function(data) {
                    }
                })
            });

            // 삭
            $("#delBtn").click(function() {
                $.ajax({
                    url: "/boards/delete/" + parseInt($("#id").val()),
                    method: 'POST',
                    success: function(data) {
                    }
                })
            });
        })
    </script>
</body>
</html>